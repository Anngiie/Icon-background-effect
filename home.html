<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <title>Home</title>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400&display=swap" rel="stylesheet">
</head>
<body>
  <script src="home.js"></script>

  
  <div class="zero">
        <div class="navbar" id="nav">
            <ul class="navbar-nav" >
              <li class="nav-item"  id="icon2" onclick="friends()"><a href="#" class="nav-link" ><i class="fa fa-comment-o">
              </i></a></li>
                <li class="nav-item"  id="icon1"onclick="profile()" ><a href="#" class="nav-link"><i class="fa fa-home" >
                </i></a></li>
              <li class="nav-item"><a href="#" class="nav-link" class="dark-mode" onclick="darkMode()"><i onclick="chgIcon('item')" id ="icon" class="fa fa-sun-o">
              </i></a></li>
              <li class="nav-item" id="icon4"><a id="signoutlink"  class="nav-link" href="#" ><i class="fa fa-power-off">
              </i></a></li>
            </ul>
        </div>  
    <!--<div class="friends" id="friends"></div>
    <div class="profile" id="profile"></div>
    <div class="chat"></div>-->
</div>
    
  <script>
    //----------------------------------THE REFRENECES----------------------------------------//
      let signoutlink = document.getElementById('signoutlink');
      var currentUser = null;

    //----------------------------------FUNCTIONS----------------------------------------//
    function getUsername(){
      let keepLoggedIn = localStorage.getItem("keepLoggedIn");

      if(keepLoggedIn == 'yes'){
        currentUser = JSON.parse(localStorage.getItem('user'));
      } else {
        currentUser = JSON.parse(sessionStorage.getItem('user'));
      }
    }
      function Signout(){
        sessionStorage.removeItem('user');
        localStorage.removeItem('user');
        localStorage.removeItem('keepLoggedIn');
        window.location = "login.html";
    }

//----------------------------------WINDOWS LOADS----------------------------------------//
        window.onload = function(){
          //console.log(" SESSION STORAGE : " + sessionStorage.getItem('user')) * 200
        	//console.log(" LOCAL STORAGE : " + localStorage.getItem('user')) * 200
          getUsername();
          if(currentUser == null){
            window.location = "index.html";
            signoutlink.href = "javascript:Signout()";
          } else {
            //signoutlink.innerText.replace("fa-power-off","Sign Out");
            //signoutlink.classList.replace("btn", "nav-link");
	          signoutlink.href = "javascript:Signout()";
          }
        }
</script>
</body>
</html>